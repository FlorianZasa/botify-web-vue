(function(t){function e(e){for(var c,o,r=e[0],i=e[1],l=e[2],d=0,u=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&u.push(s[o][0]),s[o]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c]);b&&b(e);while(u.length)u.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],c=!0,r=1;r<a.length;r++){var i=a[r];0!==s[i]&&(c=!1)}c&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var c={},s={app:0},n=[];function o(e){if(c[e])return c[e].exports;var a=c[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=c,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)o.d(a,c,function(e){return t[e]}.bind(null,c));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/botify-web-vue/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],i=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var b=i;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0071":function(t,e,a){},"327f":function(t,e,a){"use strict";a("3c78")},3304:function(t,e,a){"use strict";a("4688")},"3c78":function(t,e,a){},4390:function(t,e,a){"use strict";a("ce74")},4688:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var c=a("7a23");const s={id:"nav"},n=Object(c["i"])("Home"),o=Object(c["i"])(" | "),r=Object(c["i"])("Hinzufügen");function i(t,e){const a=Object(c["A"])("router-link"),i=Object(c["A"])("router-view");return Object(c["t"])(),Object(c["g"])(c["a"],null,[Object(c["h"])("div",s,[Object(c["j"])(a,{to:"/",class:"router-link"},{default:Object(c["F"])(()=>[n]),_:1}),o,Object(c["j"])(a,{to:"/bot/add",class:"router-link"},{default:Object(c["F"])(()=>[r]),_:1})]),Object(c["j"])(i)],64)}a("4390");var l=a("6b0d"),b=a.n(l);const d={},u=b()(d,[["render",i]]);var h=u,j=a("6605");const O=t=>(Object(c["w"])("data-v-3d1f31f2"),t=t(),Object(c["u"])(),t),p={class:"home-wrapper"},m={class:"home-header"},v=O(()=>Object(c["h"])("h2",null,"Bot Übersicht:",-1)),f={key:0},g=O(()=>Object(c["h"])("div",{class:"home-filter"},[Object(c["h"])("input",{type:"text",class:"filter",placeholder:"Filter hier..."}),Object(c["h"])("button",null,"Filter")],-1)),w={key:1},_={class:"home-content"};function D(t,e,a,s,n,o){const r=Object(c["A"])("BotCard");return Object(c["t"])(),Object(c["g"])("div",p,[Object(c["h"])("div",m,[v,n.showFilter?(Object(c["t"])(),Object(c["g"])("div",f,[Object(c["h"])("div",{class:"toggle-filter-btn",onClick:e[0]||(e[0]=t=>o.toggleFilter())}," ↑ Filter "),g])):(Object(c["t"])(),Object(c["g"])("div",w,[Object(c["h"])("div",{class:"toggle-filter-btn",onClick:e[1]||(e[1]=t=>o.toggleFilter())}," ↓ Filter ")]))]),Object(c["h"])("div",_,[(Object(c["t"])(!0),Object(c["g"])(c["a"],null,Object(c["z"])(n.botData,t=>(Object(c["t"])(),Object(c["e"])(r,{key:t.id,data:t},null,8,["data"]))),128))])])}a("14d9");const y={class:"name"},C={class:"last_state"},M={class:"status"};function S(t,e,a,s,n,o){const r=Object(c["A"])("Countdown");return Object(c["t"])(),Object(c["g"])("div",{id:"card",class:Object(c["p"])(o.is_active(n.componentData.last_state)),onClick:e[0]||(e[0]=t=>o.open_details(n.componentData.name))},[Object(c["h"])("div",y,Object(c["C"])(n.componentData.id)+" / "+Object(c["C"])(n.componentData.name),1),Object(c["h"])("div",C,Object(c["C"])(n.componentData.last_state),1),Object(c["h"])("div",M,Object(c["C"])(n.componentData.status),1),Object(c["j"])(r,{startTime:o.get_seconds(n.componentData.last_state),active:o.is_active(n.componentData.last_state)},null,8,["startTime","active"])],2)}function F(t,e,a,s,n,o){return Object(c["t"])(),Object(c["g"])("div",{id:"circle",class:Object(c["p"])("inactive"==a.active?"inactive":"active")}," VOR "+Object(c["C"])(this.timer)+" SEK ",3)}var k={name:"Countdown",data(){return{timer:this.startTime}},props:{startTime:Number,active:String},methods:{countDownTimer(){setTimeout(()=>{this.timer+=1,this.countDownTimer(),this.triggerReload()},1e3)},triggerReload(){90==this.timer&&(console.log("trigger reload"),this.$parent.reload())}},created(){this.countDownTimer()}};a("85e0");const A=b()(k,[["render",F],["__scopeId","data-v-00419365"]]);var B=A,T={name:"HelloWorld",components:{Countdown:B},props:{data:{type:Object}},data(){return{componentData:this.data}},methods:{get_seconds(t){try{var e=new Date;const u=t.split(","),h=u[0].split(".");var a=h[0].trim(),c=h[1].trim(),s=h[2].trim();const j=u[1].split(":");var n=j[0].trim(),o=j[1].trim(),r=j[2].trim(),i=new Date(s,parseInt(c)-1,a,n,o,r,0),l=i.getTime()-e.getTime(),b=l/1e3,d=Math.abs(Math.round(b));return d}catch{return 0}},is_active(t){var e=t,a=this.get_seconds(e);return a>90?"inactive":"active"},open_details(t){this.$router.push({name:"BotView",params:{name:t}})},reload(){this.$parent.readBots()}}};a("fb52");const x=b()(T,[["render",S],["__scopeId","data-v-67389ff0"]]);var I=x,z=a("4f60");a("256a"),a("1862");const P={apiKey:"AIzaSyANxIKzjNVJ-sZKYZ6VxLpMifuZ4tpA6Xw",authDomain:"robat-1c1a8.firebaseapp.com",databaseURL:"https://robat-1c1a8.firebaseio.com",projectId:"robat-1c1a8",storageBucket:"robat-1c1a8.appspot.com",messagingSenderId:"343068274490",appId:"1:343068274490:web:3756bfea112481a587ea03",measurementId:"G-R065CS48NG"};z["a"].initializeApp(P);var E=z["a"].firestore();const K=E.collection("bots");var N={data(){return{showFilter:!1,botData:[]}},name:"Home",components:{BotCard:I},methods:{remove_all_bots(){const t=document.querySelectorAll("#card");t.forEach(t=>{t.remove()})},readBots(){this.botData=[],K.onSnapshot(t=>(this.remove_all_bots(),t.forEach(t=>{this.botData.push(t.data())}),this.botData))},toggleFilter(){0==this.showFilter?this.showFilter=!0:this.showFilter=!1}},beforeMount(){this.readBots()}};a("6833");const V=b()(N,[["render",D],["__scopeId","data-v-3d1f31f2"]]);var H=V;const R=t=>(Object(c["w"])("data-v-b4ad652e"),t=t(),Object(c["u"])(),t),$={class:"botview"},L={class:"botview-header"},Z={class:"botview-detail"},J={style:{"border-collapse":"collapse",width:"100%"}},G=R(()=>Object(c["h"])("td",{class:"header"},"Anzahl Neustarts:",-1)),U={id:"restarts"},X=R(()=>Object(c["h"])("td",{class:"header"},"Letzter Status:",-1)),q=R(()=>Object(c["h"])("td",{class:"header"},"Status:",-1)),W={id:"state"},Y=R(()=>Object(c["h"])("td",{class:"header"},"Log:",-1)),Q={id:"log"},tt=R(()=>Object(c["h"])("td",{class:"header"},"Aktiv seit:",-1)),et={id:"time_active"},at=R(()=>Object(c["h"])("td",{class:"header"},"Alle Fehler bisher:",-1)),ct={id:"errors"},st=R(()=>Object(c["h"])("td",{class:"header"},"Mehr Infos",-1)),nt={id:"more"};function ot(t,e,a,s,n,o){return Object(c["t"])(),Object(c["g"])("div",$,[Object(c["h"])("div",L,[Object(c["h"])("h2",null,"Botview "+Object(c["C"])(t.$route.params.name),1),Object(c["h"])("h3",{class:Object(c["p"])(o.is_active(o.get_seconds(n.botData.last_state)))},Object(c["C"])(n.counter)+" SEK",3)]),Object(c["h"])("div",Z,[Object(c["h"])("table",J,[Object(c["h"])("tbody",null,[Object(c["h"])("tr",null,[G,Object(c["h"])("td",U,Object(c["C"])(n.botData.automated_restarts),1)]),Object(c["h"])("tr",null,[X,Object(c["h"])("td",{id:"last_state",class:Object(c["p"])(o.is_active(o.get_seconds(n.botData.last_state)))},Object(c["C"])(n.botData.last_state),3)]),Object(c["h"])("tr",null,[q,Object(c["h"])("td",W,Object(c["C"])(n.botData.status),1)]),Object(c["h"])("tr",null,[Y,Object(c["h"])("td",Q,Object(c["C"])(n.botData.log),1)]),Object(c["h"])("tr",null,[tt,Object(c["h"])("td",et,Object(c["C"])(n.botData.started),1)]),Object(c["h"])("tr",null,[at,Object(c["h"])("td",ct,Object(c["C"])(n.botData.errors),1)]),Object(c["h"])("tr",null,[st,Object(c["h"])("td",nt,Object(c["C"])(n.botData.description),1)])])])])])}const rt=E.collection("bots");var it={name:"Botview",props:{name:String},data(){return{botData:{},counter:0}},methods:{readBot(){try{rt.doc(this.name).onSnapshot(t=>(this.botData=t.data(),this.counter=this.get_seconds(this.botData.last_state),this.botData))}catch{return this.botData}},get_seconds(t){try{var e=new Date;const u=t.split(","),h=u[0].split(".");var a=h[0].trim(),c=h[1].trim(),s=h[2].trim();const j=u[1].split(":");var n=j[0].trim(),o=j[1].trim(),r=j[2].trim(),i=new Date(s,parseInt(c)-1,a,n,o,r,0),l=i.getTime()-e.getTime(),b=l/1e3,d=Math.abs(Math.round(b));return d}catch(u){return console.log(u),0}},is_active(t){return console.log("SEK, "+t),t>90?"inactive":"active"},countDownTimer(){setTimeout(()=>{this.counter+=1,this.countDownTimer()},1e3)}},created(){this.countDownTimer()},beforeMount(){this.readBot()}};a("327f");const lt=b()(it,[["render",ot],["__scopeId","data-v-b4ad652e"]]);var bt=lt;const dt=t=>(Object(c["w"])("data-v-29ae6747"),t=t(),Object(c["u"])(),t),ut=dt(()=>Object(c["h"])("div",{class:"addbot-header"},[Object(c["h"])("h2",null,"Füge einen Bot hinzu:")],-1)),ht={class:"addbot-main"},jt=dt(()=>Object(c["h"])("input",{type:"text",id:"name",name:"name",class:"textfield",placeholder:"Name"},null,-1)),Ot=dt(()=>Object(c["h"])("br",null,null,-1)),pt=dt(()=>Object(c["h"])("input",{type:"text",id:"id",name:"id",class:"textfield",placeholder:"FZ***"},null,-1)),mt=dt(()=>Object(c["h"])("br",null,null,-1)),vt=dt(()=>Object(c["h"])("input",{type:"text",id:"description",name:"description",class:"textfield",placeholder:"Dies ist eine Beschreibung"},null,-1)),ft=dt(()=>Object(c["h"])("br",null,null,-1)),gt={key:0,class:"addbot-message-container"};function wt(t,e,a,s,n,o){const r=Object(c["A"])("message");return Object(c["t"])(),Object(c["g"])(c["a"],null,[ut,Object(c["h"])("div",ht,[jt,Ot,pt,mt,vt,ft,Object(c["h"])("button",{class:"form-button",onClick:e[0]||(e[0]=t=>o.showMessageFunc())},"Speichern")]),n.showMessage?(Object(c["t"])(),Object(c["g"])("div",gt,[Object(c["j"])(c["b"],null,{default:Object(c["F"])(()=>[Object(c["j"])(r,{title:"Ups...",message:"Diese Aktion steht noch nicht zur Verfügung. Bitte wenden Sie sich an den Administrator",type:"alert",onClosed:e[1]||(e[1]=t=>o.hideMessageFunc())})]),_:1})])):Object(c["f"])("",!0)],64)}const _t=["id"],Dt={class:"message-header"},yt={class:"message-content"};function Ct(t,e,a,s,n,o){return Object(c["t"])(),Object(c["g"])("div",{id:a.type,class:"message-wrapper"},[Object(c["h"])("div",{class:"message-close-btn",onClick:e[0]||(e[0]=t=>o.closeMessage())},"X"),Object(c["h"])("div",Dt,[Object(c["h"])("h3",null,Object(c["C"])(a.title),1)]),Object(c["h"])("div",yt,Object(c["C"])(a.message),1)],8,_t)}var Mt={props:{title:String,message:String,type:String},data(){return{}},methods:{closeMessage(){this.$emit("closed")}}};a("3304");const St=b()(Mt,[["render",Ct],["__scopeId","data-v-0895eae2"]]);var Ft=St,kt={name:"AddBot",components:{Message:Ft},data(){return{showMessage:!1}},methods:{showMessageFunc(){this.showMessage=!0},hideMessageFunc(){this.showMessage=!1}}};a("65b4");const At=b()(kt,[["render",wt],["__scopeId","data-v-29ae6747"]]);var Bt=At;const Tt=[{path:"/",name:"Home",component:H},{path:"/bot/:name",name:"BotView",component:bt,props:!0},{path:"/bot/add",name:"AddBot",component:Bt}],xt=Object(j["a"])({history:Object(j["b"])(),linkExactActiveClass:"active",routes:Tt});var It=xt;Object(c["d"])(h).use(It).mount("#app")},"65b4":function(t,e,a){"use strict";a("7790")},6833:function(t,e,a){"use strict";a("a963")},7790:function(t,e,a){},"85e0":function(t,e,a){"use strict";a("c521")},a963:function(t,e,a){},c521:function(t,e,a){},ce74:function(t,e,a){},fb52:function(t,e,a){"use strict";a("0071")}});
//# sourceMappingURL=app.88c09973.js.map